"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/auth/login";
exports.ids = ["pages/api/auth/login"];
exports.modules = {

/***/ "@prisma/client":
/*!*********************************!*\
  !*** external "@prisma/client" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("@prisma/client");

/***/ }),

/***/ "bcryptjs":
/*!***************************!*\
  !*** external "bcryptjs" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("bcryptjs");

/***/ }),

/***/ "jsonwebtoken":
/*!*******************************!*\
  !*** external "jsonwebtoken" ***!
  \*******************************/
/***/ ((module) => {

module.exports = require("jsonwebtoken");

/***/ }),

/***/ "axios":
/*!************************!*\
  !*** external "axios" ***!
  \************************/
/***/ ((module) => {

module.exports = import("axios");;

/***/ }),

/***/ "(api)/./lib/api.ts":
/*!********************!*\
  !*** ./lib/api.ts ***!
  \********************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ApiError\": () => (/* binding */ ApiError),\n/* harmony export */   \"api\": () => (/* binding */ api),\n/* harmony export */   \"del\": () => (/* binding */ del),\n/* harmony export */   \"fetchApi\": () => (/* binding */ fetchApi),\n/* harmony export */   \"get\": () => (/* binding */ get),\n/* harmony export */   \"post\": () => (/* binding */ post),\n/* harmony export */   \"put\": () => (/* binding */ put)\n/* harmony export */ });\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! axios */ \"axios\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([axios__WEBPACK_IMPORTED_MODULE_0__]);\naxios__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\nconst API_BASE_URL = \"/api\" || 0;\nconst api = axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].create({\n    baseURL: API_BASE_URL,\n    timeout: 10000,\n    headers: {\n        \"Content-Type\": \"application/json\"\n    }\n});\n// 请求拦截器\napi.interceptors.request.use((config)=>{\n    // 从localStorage获取token\n    if (false) {}\n    return config;\n}, (error)=>{\n    return Promise.reject(error);\n});\n// 响应拦截器\napi.interceptors.response.use((response)=>response, (error)=>{\n    if (error.response) {\n        const { status , data  } = error.response;\n        switch(status){\n            case 401:\n                // 未授权，跳转到登录页\n                if (false) {}\n                break;\n            case 403:\n                // 权限不足\n                console.error(\"权限不足:\", data.message);\n                break;\n            case 404:\n                // 资源不存在\n                console.error(\"资源不存在:\", data.message);\n                break;\n            case 422:\n                // 验证错误\n                console.error(\"验证错误:\", data.errors);\n                break;\n            case 500:\n                // 服务器错误\n                console.error(\"服务器错误:\", data.message);\n                break;\n            default:\n                console.error(\"请求错误:\", error.message);\n        }\n    } else if (error.request) {\n        // 请求发送成功，但没有收到响应\n        console.error(\"网络错误，请检查网络连接\");\n    } else {\n        // 请求配置错误\n        console.error(\"请求配置错误:\", error.message);\n    }\n    return Promise.reject(error);\n});\n// API错误类型\nclass ApiError extends Error {\n    constructor(message, status, errors){\n        super(message);\n        this.name = \"ApiError\";\n        this.status = status;\n        this.errors = errors;\n    }\n}\n// 通用API调用函数\nasync function fetchApi(method, url, data) {\n    try {\n        const response = await api.request({\n            method,\n            url,\n            data: method !== \"GET\" ? data : undefined,\n            params: method === \"GET\" ? data : undefined\n        });\n        return response.data;\n    } catch (error) {\n        if (axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].isAxiosError(error) && error.response) {\n            throw new ApiError(error.response.data.message || \"请求失败\", error.response.status, error.response.data.errors);\n        }\n        throw error;\n    }\n}\n// 简化的API方法\nconst get = (url, params)=>fetchApi(\"GET\", url, params);\nconst post = (url, data)=>fetchApi(\"POST\", url, data);\nconst put = (url, data)=>fetchApi(\"PUT\", url, data);\nconst del = (url, data)=>fetchApi(\"DELETE\", url, data);\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnXG5cbmNvbnN0IEFQSV9CQVNFX1VSTCA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0FQSV9VUkwgfHwgJy9hcGknXG5cbmV4cG9ydCBjb25zdCBhcGkgPSBheGlvcy5jcmVhdGUoe1xuICBiYXNlVVJMOiBBUElfQkFTRV9VUkwsXG4gIHRpbWVvdXQ6IDEwMDAwLFxuICBoZWFkZXJzOiB7XG4gICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgfSxcbn0pXG5cbi8vIOivt+axguaLpuaIquWZqFxuYXBpLmludGVyY2VwdG9ycy5yZXF1ZXN0LnVzZShcbiAgKGNvbmZpZykgPT4ge1xuICAgIC8vIOS7jmxvY2FsU3RvcmFnZeiOt+WPlnRva2VuXG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBjb25zdCB0b2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0b2tlbicpXG4gICAgICBpZiAodG9rZW4pIHtcbiAgICAgICAgY29uZmlnLmhlYWRlcnMuQXV0aG9yaXphdGlvbiA9IGBCZWFyZXIgJHt0b2tlbn1gXG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBjb25maWdcbiAgfSxcbiAgKGVycm9yKSA9PiB7XG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKVxuICB9XG4pXG5cbi8vIOWTjeW6lOaLpuaIquWZqFxuYXBpLmludGVyY2VwdG9ycy5yZXNwb25zZS51c2UoXG4gIChyZXNwb25zZSkgPT4gcmVzcG9uc2UsXG4gIChlcnJvcikgPT4ge1xuICAgIGlmIChlcnJvci5yZXNwb25zZSkge1xuICAgICAgY29uc3QgeyBzdGF0dXMsIGRhdGEgfSA9IGVycm9yLnJlc3BvbnNlXG4gICAgICBcbiAgICAgIHN3aXRjaCAoc3RhdHVzKSB7XG4gICAgICAgIGNhc2UgNDAxOlxuICAgICAgICAgIC8vIOacquaOiOadg++8jOi3s+i9rOWIsOeZu+W9lemhtVxuICAgICAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3Rva2VuJylcbiAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJy9sb2dpbidcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgY2FzZSA0MDM6XG4gICAgICAgICAgLy8g5p2D6ZmQ5LiN6LazXG4gICAgICAgICAgY29uc29sZS5lcnJvcign5p2D6ZmQ5LiN6LazOicsIGRhdGEubWVzc2FnZSlcbiAgICAgICAgICBicmVha1xuICAgICAgICBjYXNlIDQwNDpcbiAgICAgICAgICAvLyDotYTmupDkuI3lrZjlnKhcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCfotYTmupDkuI3lrZjlnKg6JywgZGF0YS5tZXNzYWdlKVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgNDIyOlxuICAgICAgICAgIC8vIOmqjOivgemUmeivr1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+mqjOivgemUmeivrzonLCBkYXRhLmVycm9ycylcbiAgICAgICAgICBicmVha1xuICAgICAgICBjYXNlIDUwMDpcbiAgICAgICAgICAvLyDmnI3liqHlmajplJnor69cbiAgICAgICAgICBjb25zb2xlLmVycm9yKCfmnI3liqHlmajplJnor686JywgZGF0YS5tZXNzYWdlKVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgY29uc29sZS5lcnJvcign6K+35rGC6ZSZ6K+vOicsIGVycm9yLm1lc3NhZ2UpXG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChlcnJvci5yZXF1ZXN0KSB7XG4gICAgICAvLyDor7fmsYLlj5HpgIHmiJDlip/vvIzkvYbmsqHmnInmlLbliLDlk43lupRcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+e9kee7nOmUmeivr++8jOivt+ajgOafpee9kee7nOi/nuaOpScpXG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIOivt+axgumFjee9rumUmeivr1xuICAgICAgY29uc29sZS5lcnJvcign6K+35rGC6YWN572u6ZSZ6K+vOicsIGVycm9yLm1lc3NhZ2UpXG4gICAgfVxuICAgIFxuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcilcbiAgfVxuKVxuXG4vLyBBUEnlk43lupTnsbvlnotcbmV4cG9ydCBpbnRlcmZhY2UgQXBpUmVzcG9uc2U8VCA9IGFueT4ge1xuICBzdWNjZXNzOiBib29sZWFuXG4gIGRhdGE/OiBUXG4gIG1lc3NhZ2U/OiBzdHJpbmdcbiAgZXJyb3JzPzogUmVjb3JkPHN0cmluZywgc3RyaW5nW10+XG59XG5cbi8vIEFQSemUmeivr+exu+Wei1xuZXhwb3J0IGNsYXNzIEFwaUVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICBzdGF0dXM6IG51bWJlclxuICBlcnJvcnM/OiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmdbXT5cblxuICBjb25zdHJ1Y3RvcihtZXNzYWdlOiBzdHJpbmcsIHN0YXR1czogbnVtYmVyLCBlcnJvcnM/OiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmdbXT4pIHtcbiAgICBzdXBlcihtZXNzYWdlKVxuICAgIHRoaXMubmFtZSA9ICdBcGlFcnJvcidcbiAgICB0aGlzLnN0YXR1cyA9IHN0YXR1c1xuICAgIHRoaXMuZXJyb3JzID0gZXJyb3JzXG4gIH1cbn1cblxuLy8g6YCa55SoQVBJ6LCD55So5Ye95pWwXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZmV0Y2hBcGk8VD4oXG4gIG1ldGhvZDogJ0dFVCcgfCAnUE9TVCcgfCAnUFVUJyB8ICdERUxFVEUnLFxuICB1cmw6IHN0cmluZyxcbiAgZGF0YT86IGFueVxuKTogUHJvbWlzZTxUPiB7XG4gIHRyeSB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBhcGkucmVxdWVzdCh7XG4gICAgICBtZXRob2QsXG4gICAgICB1cmwsXG4gICAgICBkYXRhOiBtZXRob2QgIT09ICdHRVQnID8gZGF0YSA6IHVuZGVmaW5lZCxcbiAgICAgIHBhcmFtczogbWV0aG9kID09PSAnR0VUJyA/IGRhdGEgOiB1bmRlZmluZWQsXG4gICAgfSlcbiAgICBcbiAgICByZXR1cm4gcmVzcG9uc2UuZGF0YVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGlmIChheGlvcy5pc0F4aW9zRXJyb3IoZXJyb3IpICYmIGVycm9yLnJlc3BvbnNlKSB7XG4gICAgICB0aHJvdyBuZXcgQXBpRXJyb3IoXG4gICAgICAgIGVycm9yLnJlc3BvbnNlLmRhdGEubWVzc2FnZSB8fCAn6K+35rGC5aSx6LSlJyxcbiAgICAgICAgZXJyb3IucmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgICBlcnJvci5yZXNwb25zZS5kYXRhLmVycm9yc1xuICAgICAgKVxuICAgIH1cbiAgICB0aHJvdyBlcnJvclxuICB9XG59XG5cbi8vIOeugOWMlueahEFQSeaWueazlVxuZXhwb3J0IGNvbnN0IGdldCA9IDxUPih1cmw6IHN0cmluZywgcGFyYW1zPzogYW55KSA9PiBmZXRjaEFwaTxUPignR0VUJywgdXJsLCBwYXJhbXMpXG5leHBvcnQgY29uc3QgcG9zdCA9IDxUPih1cmw6IHN0cmluZywgZGF0YT86IGFueSkgPT4gZmV0Y2hBcGk8VD4oJ1BPU1QnLCB1cmwsIGRhdGEpXG5leHBvcnQgY29uc3QgcHV0ID0gPFQ+KHVybDogc3RyaW5nLCBkYXRhPzogYW55KSA9PiBmZXRjaEFwaTxUPignUFVUJywgdXJsLCBkYXRhKVxuZXhwb3J0IGNvbnN0IGRlbCA9IDxUPih1cmw6IHN0cmluZywgZGF0YT86IGFueSkgPT4gZmV0Y2hBcGk8VD4oJ0RFTEVURScsIHVybCwgZGF0YSkiXSwibmFtZXMiOlsiYXhpb3MiLCJBUElfQkFTRV9VUkwiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfQVBJX1VSTCIsImFwaSIsImNyZWF0ZSIsImJhc2VVUkwiLCJ0aW1lb3V0IiwiaGVhZGVycyIsImludGVyY2VwdG9ycyIsInJlcXVlc3QiLCJ1c2UiLCJjb25maWciLCJ0b2tlbiIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJBdXRob3JpemF0aW9uIiwiZXJyb3IiLCJQcm9taXNlIiwicmVqZWN0IiwicmVzcG9uc2UiLCJzdGF0dXMiLCJkYXRhIiwicmVtb3ZlSXRlbSIsIndpbmRvdyIsImxvY2F0aW9uIiwiaHJlZiIsImNvbnNvbGUiLCJtZXNzYWdlIiwiZXJyb3JzIiwiQXBpRXJyb3IiLCJFcnJvciIsImNvbnN0cnVjdG9yIiwibmFtZSIsImZldGNoQXBpIiwibWV0aG9kIiwidXJsIiwidW5kZWZpbmVkIiwicGFyYW1zIiwiaXNBeGlvc0Vycm9yIiwiZ2V0IiwicG9zdCIsInB1dCIsImRlbCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./lib/api.ts\n");

/***/ }),

/***/ "(api)/./lib/auth.ts":
/*!*********************!*\
  !*** ./lib/auth.ts ***!
  \*********************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ApiError\": () => (/* reexport safe */ _api__WEBPACK_IMPORTED_MODULE_2__.ApiError),\n/* harmony export */   \"extractTokenFromHeader\": () => (/* binding */ extractTokenFromHeader),\n/* harmony export */   \"generateAnonymousUserId\": () => (/* binding */ generateAnonymousUserId),\n/* harmony export */   \"generateToken\": () => (/* binding */ generateToken),\n/* harmony export */   \"getCurrentUser\": () => (/* binding */ getCurrentUser),\n/* harmony export */   \"hashPassword\": () => (/* binding */ hashPassword),\n/* harmony export */   \"isLoggedIn\": () => (/* binding */ isLoggedIn),\n/* harmony export */   \"login\": () => (/* binding */ login),\n/* harmony export */   \"logout\": () => (/* binding */ logout),\n/* harmony export */   \"verifyPassword\": () => (/* binding */ verifyPassword),\n/* harmony export */   \"verifyToken\": () => (/* binding */ verifyToken)\n/* harmony export */ });\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jsonwebtoken */ \"jsonwebtoken\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! bcryptjs */ \"bcryptjs\");\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(bcryptjs__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _api__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./api */ \"(api)/./lib/api.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_api__WEBPACK_IMPORTED_MODULE_2__]);\n_api__WEBPACK_IMPORTED_MODULE_2__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\nconst JWT_SECRET = process.env.JWT_SECRET || \"your-secret-key-change-in-production\";\nconst JWT_EXPIRES_IN = \"7d\";\n// 生成JWT令牌\nfunction generateToken(payload) {\n    const expiresIn = JWT_EXPIRES_IN;\n    const token = jsonwebtoken__WEBPACK_IMPORTED_MODULE_0___default().sign(payload, JWT_SECRET, {\n        expiresIn\n    });\n    const decoded = jsonwebtoken__WEBPACK_IMPORTED_MODULE_0___default().decode(token);\n    return {\n        token,\n        expiresAt: decoded.exp * 1000\n    };\n}\n// 验证JWT令牌\nfunction verifyToken(token) {\n    try {\n        // 使用更简单的验证方式\n        const decoded = jsonwebtoken__WEBPACK_IMPORTED_MODULE_0___default().verify(token, JWT_SECRET);\n        // 确保返回的对象包含必要的字段\n        if (decoded && decoded.id) {\n            return {\n                id: decoded.id,\n                openid: decoded.openid,\n                nickname: decoded.nickname,\n                avatar: decoded.avatar\n            };\n        }\n        return null;\n    } catch (error) {\n        console.error(\"Token verification failed:\", error);\n        return null;\n    }\n}\n// 密码哈希\nasync function hashPassword(password) {\n    const salt = await bcryptjs__WEBPACK_IMPORTED_MODULE_1___default().genSalt(10);\n    return bcryptjs__WEBPACK_IMPORTED_MODULE_1___default().hash(password, salt);\n}\n// 验证密码\nasync function verifyPassword(password, hashedPassword) {\n    return bcryptjs__WEBPACK_IMPORTED_MODULE_1___default().compare(password, hashedPassword);\n}\n// 从请求头中提取token\nfunction extractTokenFromHeader(authHeader) {\n    if (!authHeader || !authHeader.startsWith(\"Bearer \")) {\n        return null;\n    }\n    return authHeader.substring(7);\n}\n// 生成匿名用户ID（用于未登录用户填写问卷）\nfunction generateAnonymousUserId() {\n    const timestamp = Date.now().toString(36);\n    const randomStr = Math.random().toString(36).substring(2, 10);\n    return `anonymous_${timestamp}_${randomStr}`;\n}\n// 检查用户是否登录（客户端）\nfunction isLoggedIn() {\n    if (true) {\n        return false;\n    }\n    const token = localStorage.getItem(\"token\");\n    if (!token) return false;\n    try {\n        const decoded = verifyToken(token);\n        return !!decoded;\n    } catch  {\n        return false;\n    }\n}\n// 获取当前用户信息（客户端）\nfunction getCurrentUser() {\n    if (true) {\n        return null;\n    }\n    const token = localStorage.getItem(\"token\");\n    if (!token) return null;\n    return verifyToken(token);\n}\n// 登录（存储token到localStorage）\nfunction login(token) {\n    if (false) {}\n}\n// 登出（移除token）\nfunction logout() {\n    if (false) {}\n}\n// 重新导出ApiError\n\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QU8sQ0FBQztJQUMzQyxJQUFJLENBQUNwQyxLQUFLLEVBQUUsT0FBTyxLQUFLO0lBRXhCLElBQUk7UUFDRixNQUFNRSxPQUFPLEdBQUdJLFdBQVcsQ0FBQ04sS0FBSyxDQUFDO1FBQ2xDLE9BQU8sQ0FBQyxDQUFDRSxPQUFPO0lBQ2xCLEVBQUUsT0FBTTtRQUNOLE9BQU8sS0FBSztJQUNkLENBQUM7QUFDSCxDQUFDO0FBRUQsZ0JBQWdCO0FBQ1QsU0FBU21DLGNBQWMsR0FBdUI7SUFDbkQsSUFBSSxJQUE2QixFQUFFO1FBQ2pDLE9BQU8sSUFBSTtJQUNiLENBQUM7SUFFRCxNQUFNckMsS0FBSyxHQUFHbUMsWUFBWSxDQUFDQyxPQUFPLENBQUMsT0FBTyxDQUFDO0lBQzNDLElBQUksQ0FBQ3BDLEtBQUssRUFBRSxPQUFPLElBQUk7SUFFdkIsT0FBT00sV0FBVyxDQUFDTixLQUFLLENBQUM7QUFDM0IsQ0FBQztBQUVELDJCQUEyQjtBQUNwQixTQUFTc0MsS0FBSyxDQUFDdEMsS0FBYSxFQUFRO0lBQ3pDLElBQUksS0FBNkIsRUFBRSxFQUVsQztBQUNILENBQUM7QUFFRCxjQUFjO0FBQ1AsU0FBU3dDLE1BQU0sR0FBUztJQUM3QixJQUFJLEtBQTZCLEVBQUUsRUFFbEM7QUFDSCxDQUFDO0FBRUQsZUFBZTtBQUNJIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3VydmV5LXN5c3RlbS8uL2xpYi9hdXRoLnRzP2JmN2UiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGp3dCBmcm9tICdqc29ud2VidG9rZW4nXG5pbXBvcnQgYmNyeXB0IGZyb20gJ2JjcnlwdGpzJ1xuaW1wb3J0IHsgQXBpRXJyb3IgfSBmcm9tICcuL2FwaSdcblxuY29uc3QgSldUX1NFQ1JFVCA9IHByb2Nlc3MuZW52LkpXVF9TRUNSRVQgfHwgJ3lvdXItc2VjcmV0LWtleS1jaGFuZ2UtaW4tcHJvZHVjdGlvbidcbmNvbnN0IEpXVF9FWFBJUkVTX0lOID0gJzdkJ1xuXG5leHBvcnQgaW50ZXJmYWNlIFVzZXJQYXlsb2FkIHtcbiAgaWQ6IHN0cmluZ1xuICBvcGVuaWQ/OiBzdHJpbmdcbiAgbmlja25hbWU/OiBzdHJpbmdcbiAgYXZhdGFyPzogc3RyaW5nXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQXV0aFRva2VuIHtcbiAgdG9rZW46IHN0cmluZ1xuICBleHBpcmVzQXQ6IG51bWJlclxufVxuXG4vLyDnlJ/miJBKV1Tku6TniYxcbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZVRva2VuKHBheWxvYWQ6IFVzZXJQYXlsb2FkKTogQXV0aFRva2VuIHtcbiAgY29uc3QgZXhwaXJlc0luID0gSldUX0VYUElSRVNfSU5cbiAgY29uc3QgdG9rZW4gPSBqd3Quc2lnbihwYXlsb2FkLCBKV1RfU0VDUkVULCB7IGV4cGlyZXNJbiB9KVxuICBjb25zdCBkZWNvZGVkID0gand0LmRlY29kZSh0b2tlbikgYXMgeyBleHA6IG51bWJlciB9XG4gIFxuICByZXR1cm4ge1xuICAgIHRva2VuLFxuICAgIGV4cGlyZXNBdDogZGVjb2RlZC5leHAgKiAxMDAwLCAvLyDovazmjaLkuLrmr6vnp5JcbiAgfVxufVxuXG4vLyDpqozor4FKV1Tku6TniYxcbmV4cG9ydCBmdW5jdGlvbiB2ZXJpZnlUb2tlbih0b2tlbjogc3RyaW5nKTogVXNlclBheWxvYWQgfCBudWxsIHtcbiAgdHJ5IHtcbiAgICAvLyDkvb/nlKjmm7TnroDljZXnmoTpqozor4HmlrnlvI9cbiAgICBjb25zdCBkZWNvZGVkID0gand0LnZlcmlmeSh0b2tlbiwgSldUX1NFQ1JFVCkgYXMgYW55XG4gICAgXG4gICAgLy8g56Gu5L+d6L+U5Zue55qE5a+56LGh5YyF5ZCr5b+F6KaB55qE5a2X5q61XG4gICAgaWYgKGRlY29kZWQgJiYgZGVjb2RlZC5pZCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaWQ6IGRlY29kZWQuaWQsXG4gICAgICAgIG9wZW5pZDogZGVjb2RlZC5vcGVuaWQsXG4gICAgICAgIG5pY2tuYW1lOiBkZWNvZGVkLm5pY2tuYW1lLFxuICAgICAgICBhdmF0YXI6IGRlY29kZWQuYXZhdGFyXG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIHJldHVybiBudWxsXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignVG9rZW4gdmVyaWZpY2F0aW9uIGZhaWxlZDonLCBlcnJvcilcbiAgICByZXR1cm4gbnVsbFxuICB9XG59XG5cbi8vIOWvhueggeWTiOW4jFxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGhhc2hQYXNzd29yZChwYXNzd29yZDogc3RyaW5nKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgY29uc3Qgc2FsdCA9IGF3YWl0IGJjcnlwdC5nZW5TYWx0KDEwKVxuICByZXR1cm4gYmNyeXB0Lmhhc2gocGFzc3dvcmQsIHNhbHQpXG59XG5cbi8vIOmqjOivgeWvhueggVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHZlcmlmeVBhc3N3b3JkKHBhc3N3b3JkOiBzdHJpbmcsIGhhc2hlZFBhc3N3b3JkOiBzdHJpbmcpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgcmV0dXJuIGJjcnlwdC5jb21wYXJlKHBhc3N3b3JkLCBoYXNoZWRQYXNzd29yZClcbn1cblxuLy8g5LuO6K+35rGC5aS05Lit5o+Q5Y+WdG9rZW5cbmV4cG9ydCBmdW5jdGlvbiBleHRyYWN0VG9rZW5Gcm9tSGVhZGVyKGF1dGhIZWFkZXI6IHN0cmluZyB8IHVuZGVmaW5lZCk6IHN0cmluZyB8IG51bGwge1xuICBpZiAoIWF1dGhIZWFkZXIgfHwgIWF1dGhIZWFkZXIuc3RhcnRzV2l0aCgnQmVhcmVyICcpKSB7XG4gICAgcmV0dXJuIG51bGxcbiAgfVxuICByZXR1cm4gYXV0aEhlYWRlci5zdWJzdHJpbmcoNylcbn1cblxuLy8g55Sf5oiQ5Yy/5ZCN55So5oi3SUTvvIjnlKjkuo7mnKrnmbvlvZXnlKjmiLfloavlhpnpl67ljbfvvIlcbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZUFub255bW91c1VzZXJJZCgpOiBzdHJpbmcge1xuICBjb25zdCB0aW1lc3RhbXAgPSBEYXRlLm5vdygpLnRvU3RyaW5nKDM2KVxuICBjb25zdCByYW5kb21TdHIgPSBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoMiwgMTApXG4gIHJldHVybiBgYW5vbnltb3VzXyR7dGltZXN0YW1wfV8ke3JhbmRvbVN0cn1gXG59XG5cbi8vIOajgOafpeeUqOaIt+aYr+WQpueZu+W9le+8iOWuouaIt+err++8iVxuZXhwb3J0IGZ1bmN0aW9uIGlzTG9nZ2VkSW4oKTogYm9vbGVhbiB7XG4gIGlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybiBmYWxzZVxuICB9XG4gIFxuICBjb25zdCB0b2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0b2tlbicpXG4gIGlmICghdG9rZW4pIHJldHVybiBmYWxzZVxuICBcbiAgdHJ5IHtcbiAgICBjb25zdCBkZWNvZGVkID0gdmVyaWZ5VG9rZW4odG9rZW4pXG4gICAgcmV0dXJuICEhZGVjb2RlZFxuICB9IGNhdGNoIHtcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxufVxuXG4vLyDojrflj5blvZPliY3nlKjmiLfkv6Hmga/vvIjlrqLmiLfnq6/vvIlcbmV4cG9ydCBmdW5jdGlvbiBnZXRDdXJyZW50VXNlcigpOiBVc2VyUGF5bG9hZCB8IG51bGwge1xuICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm4gbnVsbFxuICB9XG4gIFxuICBjb25zdCB0b2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0b2tlbicpXG4gIGlmICghdG9rZW4pIHJldHVybiBudWxsXG4gIFxuICByZXR1cm4gdmVyaWZ5VG9rZW4odG9rZW4pXG59XG5cbi8vIOeZu+W9le+8iOWtmOWCqHRva2Vu5YiwbG9jYWxTdG9yYWdl77yJXG5leHBvcnQgZnVuY3Rpb24gbG9naW4odG9rZW46IHN0cmluZyk6IHZvaWQge1xuICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndG9rZW4nLCB0b2tlbilcbiAgfVxufVxuXG4vLyDnmbvlh7rvvIjnp7vpmaR0b2tlbu+8iVxuZXhwb3J0IGZ1bmN0aW9uIGxvZ291dCgpOiB2b2lkIHtcbiAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3Rva2VuJylcbiAgfVxufVxuXG4vLyDph43mlrDlr7zlh7pBcGlFcnJvclxuZXhwb3J0IHsgQXBpRXJyb3IgfSJdLCJuYW1lcyI6WyJqd3QiLCJiY3J5cHQiLCJBcGlFcnJvciIsIkpXVF9TRUNSRVQiLCJwcm9jZXNzIiwiZW52IiwiSldUX0VYUElSRVNfSU4iLCJnZW5lcmF0ZVRva2VuIiwicGF5bG9hZCIsImV4cGlyZXNJbiIsInRva2VuIiwic2lnbiIsImRlY29kZWQiLCJkZWNvZGUiLCJleHBpcmVzQXQiLCJleHAiLCJ2ZXJpZnlUb2tlbiIsInZlcmlmeSIsImlkIiwib3BlbmlkIiwibmlja25hbWUiLCJhdmF0YXIiLCJlcnJvciIsImNvbnNvbGUiLCJoYXNoUGFzc3dvcmQiLCJwYXNzd29yZCIsInNhbHQiLCJnZW5TYWx0IiwiaGFzaCIsInZlcmlmeVBhc3N3b3JkIiwiaGFzaGVkUGFzc3dvcmQiLCJjb21wYXJlIiwiZXh0cmFjdFRva2VuRnJvbUhlYWRlciIsImF1dGhIZWFkZXIiLCJzdGFydHNXaXRoIiwic3Vic3RyaW5nIiwiZ2VuZXJhdGVBbm9ueW1vdXNVc2VySWQiLCJ0aW1lc3RhbXAiLCJEYXRlIiwibm93IiwidG9TdHJpbmciLCJyYW5kb21TdHIiLCJNYXRoIiwicmFuZG9tIiwiaXNMb2dnZWRJbiIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJnZXRDdXJyZW50VXNlciIsImxvZ2luIiwic2V0SXRlbSIsImxvZ291dCIsInJlbW92ZUl0ZW0iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./lib/auth.ts\n");

/***/ }),

/***/ "(api)/./lib/prisma.ts":
/*!***********************!*\
  !*** ./lib/prisma.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"prisma\": () => (/* binding */ prisma)\n/* harmony export */ });\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_0__);\n\nconst globalForPrisma = globalThis;\nconst prisma = globalForPrisma.prisma ?? new _prisma_client__WEBPACK_IMPORTED_MODULE_0__.PrismaClient();\nif (true) globalForPrisma.prisma = prisma;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9saWIvcHJpc21hLnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUE2QztBQUU3QyxNQUFNQyxlQUFlLEdBQUdDLFVBQVU7QUFJM0IsTUFBTUMsTUFBTSxHQUFHRixlQUFlLENBQUNFLE1BQU0sSUFBSSxJQUFJSCx3REFBWSxFQUFFO0FBRWxFLElBQUlJLElBQXFDLEVBQUVILGVBQWUsQ0FBQ0UsTUFBTSxHQUFHQSxNQUFNIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3VydmV5LXN5c3RlbS8uL2xpYi9wcmlzbWEudHM/OTgyMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQcmlzbWFDbGllbnQgfSBmcm9tICdAcHJpc21hL2NsaWVudCdcblxuY29uc3QgZ2xvYmFsRm9yUHJpc21hID0gZ2xvYmFsVGhpcyBhcyB1bmtub3duIGFzIHtcbiAgcHJpc21hOiBQcmlzbWFDbGllbnQgfCB1bmRlZmluZWRcbn1cblxuZXhwb3J0IGNvbnN0IHByaXNtYSA9IGdsb2JhbEZvclByaXNtYS5wcmlzbWEgPz8gbmV3IFByaXNtYUNsaWVudCgpXG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSBnbG9iYWxGb3JQcmlzbWEucHJpc21hID0gcHJpc21hIl0sIm5hbWVzIjpbIlByaXNtYUNsaWVudCIsImdsb2JhbEZvclByaXNtYSIsImdsb2JhbFRoaXMiLCJwcmlzbWEiLCJwcm9jZXNzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./lib/prisma.ts\n");

/***/ }),

/***/ "(api)/./pages/api/auth/login.ts":
/*!*********************************!*\
  !*** ./pages/api/auth/login.ts ***!
  \*********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _lib_prisma__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/prisma */ \"(api)/./lib/prisma.ts\");\n/* harmony import */ var _lib_auth__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/auth */ \"(api)/./lib/auth.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_lib_auth__WEBPACK_IMPORTED_MODULE_1__]);\n_lib_auth__WEBPACK_IMPORTED_MODULE_1__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\nasync function handler(req, res) {\n    if (req.method !== \"POST\") {\n        return res.status(405).json({\n            success: false,\n            message: \"方法不允许\"\n        });\n    }\n    try {\n        const { username , password  } = req.body;\n        // 验证输入\n        if (!username || !password) {\n            return res.status(400).json({\n                success: false,\n                message: \"用户名和密码不能为空\"\n            });\n        }\n        // 查找用户（支持用户名或邮箱登录）\n        const user = await _lib_prisma__WEBPACK_IMPORTED_MODULE_0__.prisma.user.findFirst({\n            where: {\n                OR: [\n                    {\n                        email: username\n                    },\n                    {\n                        nickname: username\n                    }\n                ]\n            }\n        });\n        if (!user) {\n            // 如果没有找到用户，创建一个测试用户\n            const hashedPassword = await (__webpack_require__(/*! bcryptjs */ \"bcryptjs\").hash)(\"test123\", 12);\n            const testUser = await _lib_prisma__WEBPACK_IMPORTED_MODULE_0__.prisma.user.create({\n                data: {\n                    email: \"testuser@example.com\",\n                    nickname: \"testuser\",\n                    password: hashedPassword,\n                    avatar: null,\n                    openid: null,\n                    createdAt: new Date(),\n                    updatedAt: new Date()\n                }\n            });\n            // 验证密码\n            const isValidPassword = await (0,_lib_auth__WEBPACK_IMPORTED_MODULE_1__.verifyPassword)(\"test123\", testUser.password || \"\");\n            if (!isValidPassword) {\n                return res.status(401).json({\n                    success: false,\n                    message: \"用户不存在或密码错误\"\n                });\n            }\n            // 生成token\n            const token = (0,_lib_auth__WEBPACK_IMPORTED_MODULE_1__.generateToken)({\n                id: testUser.id,\n                nickname: testUser.nickname || undefined,\n                avatar: testUser.avatar || undefined\n            });\n            return res.status(200).json({\n                success: true,\n                data: {\n                    token: token.token,\n                    expiresAt: token.expiresAt,\n                    user: {\n                        id: testUser.id,\n                        email: testUser.email,\n                        nickname: testUser.nickname,\n                        avatar: testUser.avatar\n                    }\n                },\n                message: \"登录成功\"\n            });\n        }\n        // 验证密码\n        const isValidPassword1 = await (0,_lib_auth__WEBPACK_IMPORTED_MODULE_1__.verifyPassword)(password, user.password || \"\");\n        if (!isValidPassword1) {\n            return res.status(401).json({\n                success: false,\n                message: \"用户不存在或密码错误\"\n            });\n        }\n        // 生成token\n        const token1 = (0,_lib_auth__WEBPACK_IMPORTED_MODULE_1__.generateToken)({\n            id: user.id,\n            openid: user.openid || undefined,\n            nickname: user.nickname || undefined,\n            avatar: user.avatar || undefined\n        });\n        return res.status(200).json({\n            success: true,\n            data: {\n                token: token1.token,\n                expiresAt: token1.expiresAt,\n                user: {\n                    id: user.id,\n                    email: user.email,\n                    nickname: user.nickname,\n                    avatar: user.avatar\n                }\n            },\n            message: \"登录成功\"\n        });\n    } catch (error) {\n        console.error(\"登录错误:\", error);\n        return res.status(500).json({\n            success: false,\n            message: \"服务器内部错误\",\n            error:  true ? error.message : 0\n        });\n    }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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WSxNQUFNO2lCQUNwQjthQUNGO1lBQ0RoQixPQUFPLEVBQUUsTUFBTTtTQUNoQixDQUFDO0lBQ0osRUFBRSxPQUFPMEIsS0FBSyxFQUFPO1FBQ25CQyxPQUFPLENBQUNELEtBQUssQ0FBQyxPQUFPLEVBQUVBLEtBQUssQ0FBQztRQUM3QixPQUFPL0IsR0FBRyxDQUFDRSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztZQUMxQkMsT0FBTyxFQUFFLEtBQUs7WUFDZEMsT0FBTyxFQUFFLFNBQVM7WUFDbEIwQixLQUFLLEVBQUVFLEtBQXNDLEdBQUdGLEtBQUssQ0FBQzFCLE9BQU8sR0FBR3dCLENBQVM7U0FDMUUsQ0FBQztJQUNKLENBQUM7QUFDSCxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3VydmV5LXN5c3RlbS8uL3BhZ2VzL2FwaS9hdXRoL2xvZ2luLnRzPzc0NGQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dEFwaVJlcXVlc3QsIE5leHRBcGlSZXNwb25zZSB9IGZyb20gJ25leHQnXG5pbXBvcnQgeyBwcmlzbWEgfSBmcm9tICdAL2xpYi9wcmlzbWEnXG5pbXBvcnQgeyBnZW5lcmF0ZVRva2VuLCB2ZXJpZnlQYXNzd29yZCB9IGZyb20gJ0AvbGliL2F1dGgnXG5cbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZXIoXG4gIHJlcTogTmV4dEFwaVJlcXVlc3QsXG4gIHJlczogTmV4dEFwaVJlc3BvbnNlXG4pIHtcbiAgaWYgKHJlcS5tZXRob2QgIT09ICdQT1NUJykge1xuICAgIHJldHVybiByZXMuc3RhdHVzKDQwNSkuanNvbih7IFxuICAgICAgc3VjY2VzczogZmFsc2UsIFxuICAgICAgbWVzc2FnZTogJ+aWueazleS4jeWFgeiuuCcgXG4gICAgfSlcbiAgfVxuXG4gIHRyeSB7XG4gICAgY29uc3QgeyB1c2VybmFtZSwgcGFzc3dvcmQgfSA9IHJlcS5ib2R5XG5cbiAgICAvLyDpqozor4HovpPlhaVcbiAgICBpZiAoIXVzZXJuYW1lIHx8ICFwYXNzd29yZCkge1xuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIG1lc3NhZ2U6ICfnlKjmiLflkI3lkozlr4bnoIHkuI3og73kuLrnqbonXG4gICAgICB9KVxuICAgIH1cblxuICAgIC8vIOafpeaJvueUqOaIt++8iOaUr+aMgeeUqOaIt+WQjeaIlumCrueuseeZu+W9le+8iVxuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBwcmlzbWEudXNlci5maW5kRmlyc3Qoe1xuICAgICAgd2hlcmU6IHtcbiAgICAgICAgT1I6IFtcbiAgICAgICAgICB7IGVtYWlsOiB1c2VybmFtZSB9LFxuICAgICAgICAgIHsgbmlja25hbWU6IHVzZXJuYW1lIH1cbiAgICAgICAgXVxuICAgICAgfVxuICAgIH0pXG5cbiAgICBpZiAoIXVzZXIpIHtcbiAgICAgIC8vIOWmguaenOayoeacieaJvuWIsOeUqOaIt++8jOWIm+W7uuS4gOS4qua1i+ivleeUqOaIt1xuICAgICAgY29uc3QgaGFzaGVkUGFzc3dvcmQgPSBhd2FpdCByZXF1aXJlKCdiY3J5cHRqcycpLmhhc2goJ3Rlc3QxMjMnLCAxMilcbiAgICAgIGNvbnN0IHRlc3RVc2VyID0gYXdhaXQgcHJpc21hLnVzZXIuY3JlYXRlKHtcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIGVtYWlsOiAndGVzdHVzZXJAZXhhbXBsZS5jb20nLFxuICAgICAgICAgIG5pY2tuYW1lOiAndGVzdHVzZXInLFxuICAgICAgICAgIHBhc3N3b3JkOiBoYXNoZWRQYXNzd29yZCxcbiAgICAgICAgICBhdmF0YXI6IG51bGwsXG4gICAgICAgICAgb3BlbmlkOiBudWxsLFxuICAgICAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICAgICAgICB1cGRhdGVkQXQ6IG5ldyBEYXRlKClcbiAgICAgICAgfVxuICAgICAgfSlcblxuICAgICAgLy8g6aqM6K+B5a+G56CBXG4gICAgICBjb25zdCBpc1ZhbGlkUGFzc3dvcmQgPSBhd2FpdCB2ZXJpZnlQYXNzd29yZCgndGVzdDEyMycsIHRlc3RVc2VyLnBhc3N3b3JkIHx8ICcnKVxuICAgICAgaWYgKCFpc1ZhbGlkUGFzc3dvcmQpIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5qc29uKHtcbiAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICBtZXNzYWdlOiAn55So5oi35LiN5a2Y5Zyo5oiW5a+G56CB6ZSZ6K+vJ1xuICAgICAgICB9KVxuICAgICAgfVxuXG4gICAgICAvLyDnlJ/miJB0b2tlblxuICAgICAgY29uc3QgdG9rZW4gPSBnZW5lcmF0ZVRva2VuKHtcbiAgICAgICAgaWQ6IHRlc3RVc2VyLmlkLFxuICAgICAgICBuaWNrbmFtZTogdGVzdFVzZXIubmlja25hbWUgfHwgdW5kZWZpbmVkLFxuICAgICAgICBhdmF0YXI6IHRlc3RVc2VyLmF2YXRhciB8fCB1bmRlZmluZWQsXG4gICAgICB9KVxuXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgdG9rZW46IHRva2VuLnRva2VuLFxuICAgICAgICAgIGV4cGlyZXNBdDogdG9rZW4uZXhwaXJlc0F0LFxuICAgICAgICAgIHVzZXI6IHtcbiAgICAgICAgICAgIGlkOiB0ZXN0VXNlci5pZCxcbiAgICAgICAgICAgIGVtYWlsOiB0ZXN0VXNlci5lbWFpbCxcbiAgICAgICAgICAgIG5pY2tuYW1lOiB0ZXN0VXNlci5uaWNrbmFtZSxcbiAgICAgICAgICAgIGF2YXRhcjogdGVzdFVzZXIuYXZhdGFyLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIG1lc3NhZ2U6ICfnmbvlvZXmiJDlip8nXG4gICAgICB9KVxuICAgIH1cblxuICAgIC8vIOmqjOivgeWvhueggVxuICAgIGNvbnN0IGlzVmFsaWRQYXNzd29yZCA9IGF3YWl0IHZlcmlmeVBhc3N3b3JkKHBhc3N3b3JkLCB1c2VyLnBhc3N3b3JkIHx8ICcnKVxuICAgIGlmICghaXNWYWxpZFBhc3N3b3JkKSB7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLmpzb24oe1xuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgbWVzc2FnZTogJ+eUqOaIt+S4jeWtmOWcqOaIluWvhueggemUmeivrydcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgLy8g55Sf5oiQdG9rZW5cbiAgICBjb25zdCB0b2tlbiA9IGdlbmVyYXRlVG9rZW4oe1xuICAgICAgaWQ6IHVzZXIuaWQsXG4gICAgICBvcGVuaWQ6IHVzZXIub3BlbmlkIHx8IHVuZGVmaW5lZCxcbiAgICAgIG5pY2tuYW1lOiB1c2VyLm5pY2tuYW1lIHx8IHVuZGVmaW5lZCxcbiAgICAgIGF2YXRhcjogdXNlci5hdmF0YXIgfHwgdW5kZWZpbmVkLFxuICAgIH0pXG5cbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgdG9rZW46IHRva2VuLnRva2VuLFxuICAgICAgICBleHBpcmVzQXQ6IHRva2VuLmV4cGlyZXNBdCxcbiAgICAgICAgdXNlcjoge1xuICAgICAgICAgIGlkOiB1c2VyLmlkLFxuICAgICAgICAgIGVtYWlsOiB1c2VyLmVtYWlsLFxuICAgICAgICAgIG5pY2tuYW1lOiB1c2VyLm5pY2tuYW1lLFxuICAgICAgICAgIGF2YXRhcjogdXNlci5hdmF0YXIsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgbWVzc2FnZTogJ+eZu+W9leaIkOWKnydcbiAgICB9KVxuICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgY29uc29sZS5lcnJvcign55m75b2V6ZSZ6K+vOicsIGVycm9yKVxuICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7XG4gICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgIG1lc3NhZ2U6ICfmnI3liqHlmajlhoXpg6jplJnor68nLFxuICAgICAgZXJyb3I6IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnID8gZXJyb3IubWVzc2FnZSA6IHVuZGVmaW5lZCxcbiAgICB9KVxuICB9XG59Il0sIm5hbWVzIjpbInByaXNtYSIsImdlbmVyYXRlVG9rZW4iLCJ2ZXJpZnlQYXNzd29yZCIsImhhbmRsZXIiLCJyZXEiLCJyZXMiLCJtZXRob2QiLCJzdGF0dXMiLCJqc29uIiwic3VjY2VzcyIsIm1lc3NhZ2UiLCJ1c2VybmFtZSIsInBhc3N3b3JkIiwiYm9keSIsInVzZXIiLCJmaW5kRmlyc3QiLCJ3aGVyZSIsIk9SIiwiZW1haWwiLCJuaWNrbmFtZSIsImhhc2hlZFBhc3N3b3JkIiwicmVxdWlyZSIsImhhc2giLCJ0ZXN0VXNlciIsImNyZWF0ZSIsImRhdGEiLCJhdmF0YXIiLCJvcGVuaWQiLCJjcmVhdGVkQXQiLCJEYXRlIiwidXBkYXRlZEF0IiwiaXNWYWxpZFBhc3N3b3JkIiwidG9rZW4iLCJpZCIsInVuZGVmaW5lZCIsImV4cGlyZXNBdCIsImVycm9yIiwiY29uc29sZSIsInByb2Nlc3MiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./pages/api/auth/login.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = (__webpack_exec__("(api)/./pages/api/auth/login.ts"));
module.exports = __webpack_exports__;

})();